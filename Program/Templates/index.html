<!DOCTYPE html>
<header> <!-- Rock, Paper or Scissor -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <title> Rock, Paper or Scissors </title>
</header>
<body>
    <div class="container marketing"> <!-- Three columns of text below the carousel -->
        <div class="row">
            <div class="col-lg-4"> <img src="/static/rock.png"
                                    class="bd-placeholder-img rounded-circle" 
                                    width="140"
                                    height="140"
                                    alt="Paper">
                <h2 class="fw-normal">
                    <font dir="auto" style="vertical-align: inherit;">
                        <font dir="auto" style="vertical-align: inherit;">Rock</font>
                    </font>
                </h2>
                <p>
                    <button class="btn btn-secondary choose-btn" data-choice="Rock">
                        Choose
                    </button>
                </p>
            </div><!-- /.col-lg-4 -->
            <div class="col-lg-4"> <img src="/static/paper.png"
                                    class="bd-placeholder-img rounded-circle" 
                                    width="140"
                                    height="140"
                                    alt="Paper">
                <h2 class="fw-normal">
                    <font dir="auto" style="vertical-align: inherit;">
                        <font dir="auto" style="vertical-align: inherit;">Paper</font>
                    </font>
                </h2>
                <p>
                    <button class="btn btn-secondary choose-btn" data-choice="Paper">
                        Choose
                    </button>
                </p>
            </div><!-- /.col-lg-4 -->
            <div class="col-lg-4"> <img src="/static/scissors.png"
                                    class="bd-placeholder-img rounded-circle" 
                                    width="140"
                                    height="140"
                                    alt="Paper">
                <h2 class="fw-normal">
                    <font dir="auto" style="vertical-align: inherit;">
                        <font dir="auto" style="vertical-align: inherit;">Scissors</font>
                    </font>
                </h2>
                <p>
                    <button class="btn btn-secondary choose-btn" data-choice="Scissors">
                        Choose
                    </button>
                </p>
            </div><!-- /.col-lg-4 -->

    <hr class="my-5">

    <div class="container text-center">
        <div class="row">
            <div class="col-md-6">
                <h3>Player 1 Choice</h3>
                <div id="player1-choice">
                    <p class="fs-4 text-muted">Waiting...</p>
                </div>
            </div>
            <div class="col-md-6">
                <h3>Player 2 Choice</h3>
                <div id="player2-choice">
                    <p class="fs-4 text-muted">Waiting...</p>
                </div>
            </div>
        </div>
    </div>

    <hr class="my-5">

    <div class="container text-center">
        <h3 id="winner-text" class="mb-3"></h3>

        <div id="winner-image"></div>

        <button id="reset-btn" class="btn btn-primary mt-4" style="display: none;">
            Jogar novamente
        </button>
    </div>

    <script>
        let currentPlayer = 1;

        const buttons = document.querySelectorAll(".choose-btn");

        buttons.forEach(button => {
            button.addEventListener("click", () => {
                const choice = button.dataset.choice;

                if (currentPlayer === 1) {
                    document.getElementById("player1-choice").textContent = choice;
                    currentPlayer = 2;
                    player1Choice = choice;
                    alert("Player 2, your turn!");
                } else if (currentPlayer === 2) {
                    document.getElementById("player2-choice").textContent = choice;
                    player2Choice = choice;
                    checkWinner();
                    currentPlayer = 1;
                }
            });
        });



    let player1Choice = null;
    let player2Choice = null;

    function checkWinner() {
        const winnerText = document.getElementById("winner-text");
        const winnerImage = document.getElementById("winner-image");
        const resetBtn = document.getElementById("reset-btn");

        // Caso empate
        if (player1Choice === player2Choice) {
            winnerText.textContent = "Empate!";
            winnerImage.innerHTML = "";
            resetBtn.style.display = "inline-block";
            return;
        }

        let winner = "";
        let winningChoice = "";

        if (
            (player1Choice === "Rock" && player2Choice === "Scissors") ||
            (player1Choice === "Paper" && player2Choice === "Rock") ||
            (player1Choice === "Scissors" && player2Choice === "Paper")
        ) {
            winner = "Player 1";
            winningChoice = player1Choice;
        } else {
            winner = "Player 2";
            winningChoice = player2Choice;
        }

        winnerText.textContent = `Vencedor: ${winner}`;

        winnerImage.innerHTML = `
            <img src="/static/${winningChoice.toLowerCase()}.png"
                 width="140"
                 height="140"
                 class="rounded-circle mt-3">
        `;

        resetBtn.style.display = "inline-block";
    }
    document.getElementById("reset-btn").addEventListener("click", () => {
    currentPlayer = 1;
    player1Choice = null;
    player2Choice = null;

    document.getElementById("player1-choice").innerHTML =
        '<p class="fs-4 text-muted">Waiting...</p>';
    document.getElementById("player2-choice").innerHTML =
        '<p class="fs-4 text-muted">Waiting...</p>';

    document.getElementById("winner-text").textContent = "";
    document.getElementById("winner-image").innerHTML = "";
    document.getElementById("reset-btn").style.display = "none";
    });
    </script>
</body>